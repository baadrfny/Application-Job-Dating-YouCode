{% extends "layouts/main.twig" %}

{% block title %}Explorer les Offres{% endblock %}

{% block content %}

<!-- HERO -->
<section class="w-full py-16">
  <div class="max-w-screen-2xl mx-auto px-6 text-center">
    <h1 class="text-5xl font-bold mb-4">
      Trouvez votre <span class="text-indigo-600">opportunité idéale</span>
    </h1>
    <p class="text-lg text-gray-500">
      Explorez les meilleures offres proposées par nos partenaires
    </p>
  </div>
</section>

<!-- MAIN LAYOUT -->
<section class="w-full py-16">
  <div class="max-w-screen-2xl mx-auto px-6 grid lg:grid-cols-4 gap-10">

    <!-- FILTERS -->
    <aside class="lg:col-span-1 bg-white rounded-2xl p-6 shadow border">
      <h3 class="font-bold text-lg mb-6">Filtrer les offres</h3>

      <div class="space-y-4">
        <input type="text" placeholder="Titre, entreprise..."
               class="w-full px-4 py-3 border rounded-xl">

        <select class="w-full px-4 py-3 border rounded-xl">
          <option>Toutes les entreprises</option>
          {% for company in companies %}
            <option>{{ company.nom }}</option>
          {% endfor %}
        </select>

        <select class="w-full px-4 py-3 border rounded-xl">
          <option>Tous les contrats</option>
          <option>CDI</option>
          <option>CDD</option>
          <option>Stage</option>
          <option>Freelance</option>
        </select>

        <button class="w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold">
          Filtrer
        </button>
      </div>
    </aside>

    <!-- OFFERS GRID -->
    <div class="lg:col-span-3">
      <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-6">

        {% for offer in offers %}
        <div class="bg-white rounded-2xl p-6 shadow border hover:shadow-xl transition">
          <span class="text-xs bg-indigo-100 text-indigo-600 px-3 py-1 rounded-full">
            {{ offer.type_contrat }}
          </span>

          <h3 class="text-lg font-bold mt-3">{{ offer.titre }}</h3>
          <p class="text-sm text-gray-500">{{ offer.entreprise_nom }}</p>

          <p class="mt-3 text-sm text-gray-600">
            {{ offer.description|slice(0,100) }}...
          </p>

          <a href="/annonces/show/{{ offer.id }}"
             class="inline-block mt-4 text-indigo-600 font-semibold">
            Voir détails →
          </a>
        </div>
        {% endfor %}

      </div>
    </div>

  </div>
</section>

{% endblock %}
